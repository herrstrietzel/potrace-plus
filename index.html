<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Potrace js</title>


    <link rel="icon" href="./favicon.svg" type="image/svg+xml">
    <link rel="mask-icon" href="favicon.svg" color="#000000">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" href="demo/css/app1.css">



    <!-- ui helpers -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/enhance-inputs@0.2.0/dist/enhanceInputs.css">
    <script src="https://cdn.jsdelivr.net/npm/enhance-inputs@0.2.0/dist/enhanceInputs.js" defer></script>

    <style>

    </style>


    <script src="dist/potrace-plus.js" defer></script>
    <script src="demo/js/app.js" defer></script>


</head>

<body class="enhance-inputs-init --scrollbar --scroll-content pdd-0 mrg-0"
    data-enhance-inputs='{"storageName":"potracePlus", "getQuery":true, "cacheToStorage":true,"icons":"all"}'>

    <div class="grd-main hgh-100vh grd grd-md-3 grd-ld-5 gap-1em">

        <aside class="aside aside-1 hgh-100 aside scrollbar scroll-content pdd-1em pos-rlt">

            <header class="pst-sticky top-0 bg z-ind-1000">
                <h1>Potrace-plus</h1>
                <p class="mrg-1rem mrg-btt">A javascript port of <a href="http://potrace.sourceforge.net"
                        rel="nofollow">Potrace</a>.<br>
                    Based on <a href="https://github.com/kilobtye/potrace">kilobtye's JS port</a></p>

                <p><input type="file" class="--btn-neg" id="inputFile" name="imgFile" value="upload"
                        data-label="Upload file" accept=".svg,.jpg,.jpeg,.png,.webp"></p>
                <p class="--btn-neg" data-ui="reset"></p>
            </header>

            <h3>Filter</h3>
            <p>
                <label>Brightness</label>
                <input type="range" id="brightness" name="brightness" value="1" min="0" max="2" step="0.1"
                    data-type="--range-number">
            </p>
            <p>
                <label>Contrast</label>
                <input type="range" id="contrast" name="contrast" value="1" min="0" max="10" step="0.1"
                    data-type="--range-number">

            <p>
            <p>
                <label>Blur</label>
                <input type="range" id="blur" name="blur" value="0" min="0" max="10" step="0.1"
                    data-type="--range-number">

            <p>


                <label><input type="checkbox" name="invert">invert</label>
            </p>


            </p>


            <h3>Potrace settings</h3>
            <p>See <a href="https://pythonhosted.org/pypotrace/ref.html">potrace documentation</a></p>
            <p>
                <label class="wdt-100">turdsize <input type="number" value="1" min="0" step="0.1" name="turdsize"
                        data-info="reduces noise"> </label>
            </p>
            <p>
                <label class="wdt-100">opttolerance<input type="number" value="1" min="0" name="opttolerance" min="0" step="0.1" 
                        data-info="adds more aggressive smoothing"> </label>
            </p>
            <p>
                <label class="wdt-100">alphamax<input type="number" value="1" min="0" step="0.1" name="alphamax"
                        data-info="lower values retain more corners/straight lines"> </label>
            </p>
            <p></p>
            <label class="wdt-100"><input type="checkbox" name="optcurve"
                    data-info="optmization reduces filesize significantly by path simplification"
                    checked>optcurve</label>
            </p>

            <p>
                <label class="fnt-wgt-700">turnpolicy</label>
                <select name="turnpolicy" id="turnpolicy">
                    <option value="majority" selected>majority</option>
                    <option value="minority">minority</option>
                    <option value="black">black</option>
                    <option value="white">white</option>
                    <option value="left">left</option>
                    <option value="right">right</option>
                    <option value="random">random</option>
                </select>
            </p>

            <h3>SVG settings</h3>
            <p>
                <label><input type="checkbox" name="crop" checked>crop</label>
                <label><input type="checkbox" name="toRelative" checked>toRelative</label>
                <label><input type="checkbox" name="toShorthands" checked>toShorthands</label>
                <label><input type="checkbox" name="split" checked data-info="Creates multiple path elements">split</label>
                <label> <input type="checkbox" name="optimize" data-info="optimizes starting points and removes colinear/flat segments">Optimize Segments</label>   
            </p>
            <p>
                <label class="wdt-100">decimals <input type="number" name="decimals" min="0" value="1"
                        data-info="reduces floating point precision: reduces filesize significantly!"></label>
            </p>

            <p><label><input type="checkbox" name="addDimensions" data-info="adds width and height attributes to SVG"
                        checked>addDimensions</label></p>


        </aside>

        <aside class="aside aside-2 pdd-1em pdd-top scrollbar scroll-content">

            <p><label><input type="checkbox" name="showCommands"
                        data-info="shows SVG segments/command end points">showCommands</label>
            <p>


            <p><strong>SVG info</strong>
            <pre id="info"></pre>
            </p>

            <p>
                <label>SVG <textarea name="svgOut" id="svgOut" data-file="potrace.svg" data-tools="size copy download">
                </textarea></label>
            </p>
            <p>
                <label>SVG Path <textarea name="svgOutPath" id="svgOutPath" data-tools="size copy download">
                </textarea></label>
            </p>

        </aside>



        <main class="main --spn-ld-2 --spn-ld-3 scrollbar scroll-content pst-rlt">

            <div class="toolbar pst-fxd btt-0 rgh-0 pdd-1em">
                <!-- 
                    <button class="btn-download btn-neg" id="btnPDF" type="button" data-icon="arrow-down-tray">PDF</button>
                -->
                <a class="btn-download btn-neg" data-icon="arrow-down-tray" id="btnDownload" href="#" download="potrace.pdf">PDF</a>

                <a class="btn-download a-non btn-neg" href="#" id="btnSvg" data-icon="arrow-down-tray"
                    download="potrace.svg">SVG</a>
            </div>


            <header class="pst-sticky --pdd-1em z-ind-1000">
                <a class="lnk-github" href="https://github.com/herrstrietzel/potrace-plus"
                    title="See github repository">
                    <svg viewBox="0 0 24 24" class="icn-svg">
                        <use href="#github"></use>
                    </svg>
                </a>
            </header>


            <div class="preview pdd-1em pst-rlt">

                <h3>Input image</h3>

                <!--img input -->
                <img id="imgPreview" class="imgPreview" src="data:image/svg+xml,<svg viewBox='0 0 4430 752' width='4430' height='752' xmlns='http://www.w3.org/2000/svg'><path d='M0 287v287h39.5h39.5v-105.5v-105.5h45.9c80.6 0 113.1 -5.4 155.1 -25.6c64.1 -30.9 93.4 -80.7 93.5 -158.9c0.1 -100.8 -54 -158.4 -164 -174.6c-22.2 -3.2 -43.3 -3.9 -127.7 -3.9h-81.8v287zm3120 0v287h39.5h39.5v-287v-287h-39.5h-39.5v287zm-2112.5 -255.5c-19.2 2.4 -35.1 4.4 -35.2 4.4s-0.3 22.4 -0.3 49.6v49.5h-38.5h-38.5v29.5v29.5h38.5h38.4v145.8c0.8 162.2 0.3 151 7.5 172.5c17.8 52.9 67.9 79 134.9 70.2c26.5 -3.5 56.8 -15.1 73.6 -28.1c1.1 -0.9 -28.5 -50.5 -29.9 -50c-0.8 0.2 -6.7 2.7 -13.1 5.6c-40 17.5 -75.1 13.3 -88.1 -10.6c-8.6 -15.8 -8.7 -19 -8.8 -172.6v-132.8h48h48l0.5 -2.2c0.7 -3.3 7.5 -53.1 7.5 -55.1s-4.1 -1.7 -52 -1.7h-52v-54v-54l-2.7 0.1c-1.6 0.1 -18.5 2.1 -37.8 4.4zm-818 32.9c67.3 11.3 97.6 43.8 100.2 107.7c2.1 50.8 -13 88.5 -42.9 106.9c-27.2 16.7 -51.4 21.1 -120 21.7l-47.8 0.5v-119.7v-119.7l50.3 0.5c40.7 0.3 52.1 0.7 60.2 2.1zm4209 25.3c-60.9 26.8 -94.2 33.5 -176 35.3c-25.8 0.6 -41.1 1.3 -47.7 2.4c-94.2 15.1 -150.2 90 -134.8 180.1c6.7 39.4 33.6 75 68.3 90.6c3.7 1.7 3.6 1.9 -3.6 7.1c-61.1 44.9 -52.7 122.8 15.8 147.2c20.6 7.3 24.4 7.6 90.5 8.5c53.4 0.8 59.3 1 67.5 2.9c36.1 8.1 53.6 25.9 55.2 56.2c2.7 52 -48.8 76.5 -149.5 71.2c-68.5 -3.6 -93.9 -20.3 -97.1 -63.7l-0.6 -9l-34.2 -0.3l-34.3 -0.2v9.2c0.1 79.7 49.7 117.9 161 123.9c126.7 6.8 210.9 -29.8 228.4 -99.2s-20.3 -128.8 -92.5 -148.3c-20.4 -5.5 -24.4 -5.8 -83.9 -6.6c-66.2 -0.9 -73.1 -1.9 -85.9 -12c-16.6 -13.1 -13.2 -45.5 6.4 -61.5l4.2 -3.5l9.4 2.5c84.5 22.3 174 -14.8 202.9 -84.2c28 -67.3 5.3 -133.3 -57.1 -165.5l-8.4 -4.3l16 -0.2c54.6 -0.7 113.5 -8.6 111.1 -14.9c-0.3 -0.8 -5.4 -16.3 -11.3 -34.4s-11 -33 -11.3 -32.9s-4.1 1.6 -8.5 3.6zm-3771.5 35.9c-1.9 0.2 -7.5 0.9 -12.5 1.5c-102.7 12.5 -165.6 98.9 -165.8 227.9c-0.2 133.4 62.7 216.8 172.2 228.1c133.8 13.8 223.3 -84 218.8 -239.1c-3.6 -123.9 -61.3 -202.1 -159.8 -216.5c-9.9 -1.5 -45.5 -2.8 -52.9 -1.9zm815.9 0.4c-42.1 5 -77.1 36.4 -98 87.8c-4.4 11 -4.2 12 -7.9 -34.8c-1.7 -21.7 -3.3 -40.5 -3.6 -41.7l-0.4 -2.3h-32.5h-32.5v219.5v219.5h38h38v-125.1v-125l3.1 -12.1c22.5 -89.3 63.1 -123.1 130.9 -108.9c5.2 1.1 9.5 1.9 9.5 1.8s3.3 -16.9 7.2 -37.4l6.9 -37.2l-6.5 -1.5c-14.3 -3.2 -37 -4.3 -52.2 -2.6zm268.1 -0.3c-1.9 0.1 -8.7 0.8 -15 1.4c-32.6 3 -79 13.9 -111.7 26.1l-5.1 1.9l8.3 24.2c4.6 13.3 9 25.8 9.7 27.8l1.3 3.6l9 -2.8c94.8 -30.2 164.2 -26.2 187.5 10.7c10 15.9 12.1 25.9 12.7 60.7l0.5 27.7h-44.3c-96.3 0 -142.6 12.9 -180 50c-50.5 50.3 -48.4 146.7 4.3 193.2c62.5 55.1 180.2 41.6 225.8 -26c4.4 -6.5 3.9 -6.7 7.7 3.1c12.1 30.7 35.4 48.6 72.1 55.3c11.4 2.1 9.5 4.7 19.1 -25s9.7 -26.3 0.2 -30.8c-10 -4.8 -18.3 -12.7 -22.2 -21.4c-5.9 -13 -5.9 -13 -5.9 -134.3c0 -139.5 -0.4 -144.1 -15.4 -175.6c-24 -50.4 -84.4 -77 -158.6 -69.8zm469.1 0.4c-104.5 11.8 -169 100.3 -169.1 232c-0.1 101.2 35.9 173.2 103.4 207.1c57.9 29.1 139.6 24 197.6 -12.2c10.6 -6.6 23.9 -16.2 24 -17.3s-33.9 -49.7 -34.5 -49.7c-0.2 0 -4.3 2.5 -9.2 5.6c-66.2 42 -137.7 35.7 -172 -15.1c-38.5 -57.1 -36 -190.7 4.8 -247.8c34.2 -48 104.2 -54.2 164.8 -14.7c5.1 3.3 9.7 6 10.2 5.8s35.9 -46 35.9 -47c0.1 -4.2 -36.8 -27 -56.5 -34.8c-24.7 -9.8 -70.1 -15.3 -99.4 -11.9zm387.9 0.4c-98.6 14 -158.7 102.7 -158.4 233.5c0.3 97.8 34.2 167.5 98.1 202.2c56.8 30.8 141.9 28.8 205.3 -4.9c20.2 -10.7 43.5 -26.6 42.6 -28.9s-31.7 -44.4 -32.6 -44.4c-0.5 0 -5.1 2.7 -10.2 6c-35.6 23.1 -78.3 34.5 -115.3 31c-61.7 -5.8 -98.9 -52.2 -106 -132.2l-0.7 -7.8h140h140l0.7 -11.7c8.3 -131.5 -41 -219.7 -134 -239.7c-19.2 -4.2 -51.7 -5.6 -69.5 -3.1zm972 0c-40.1 5.7 -74.5 28.3 -101.7 66.7l-4 5.8l-0.6 -4.3c-0.3 -2.3 -1.8 -16.7 -3.3 -31.9l-2.8 -27.8h-32.8h-32.8v219.5v219.5h38h38v-155.5v-155.6l6.9 -10.2c29.3 -43.6 52.7 -62.5 82.5 -66.6c36.5 -5.1 60.9 9.2 70.5 41.4c5.1 17.1 5.1 15.1 5.1 186.8v159.7h38.5h38.5v-155.8v-155.8l6.8 -10c35 -51.5 62.4 -69.7 101.5 -67.1c32.8 2.2 51.2 23.6 55.7 64.9c0.6 6.4 1 64 1 166.8v157h38.5h38.5v-156.7c0 -161.1 -0.4 -178.2 -4 -195.9c-13 -62.9 -58.1 -98.6 -121.5 -96.1c-49.8 2 -88.4 25.6 -121.5 74.1l-3.3 4.9l-2.2 -5.9c-19.8 -52.7 -69.6 -80.3 -129.5 -71.9zm683.5 54.5c55 5.8 83.2 47 76.6 111.7c-5.7 55.9 -36.3 84.3 -90.7 84.4c-61.2 0 -95.9 -39 -93.1 -105.1c2.7 -64.2 42.3 -97.9 107.2 -91zm-1611.9 6c55.8 9.7 81.2 46.7 84.9 123.8l0.6 13.2h-103.2h-103.1l0.6 -7.7c8.2 -94.7 51.4 -141.2 120.2 -129.3zm-1948.3 1.1c64.2 9.5 93.3 61.7 93.2 167.4c-0.1 115.2 -37.2 168.5 -115.5 166.2c-74.8 -2.2 -109.2 -54.3 -109.4 -165.7c-0.3 -121.9 45.9 -180.7 131.7 -167.9zm1144.7 219.8v51l-3.5 5.9c-28 47.8 -75.5 70.5 -124.2 59.2c-30.5 -7.1 -46.8 -28.1 -50.5 -64.9c-4 -39.2 11 -70.4 41.1 -86c24.1 -12.4 44.9 -15.5 108.4 -15.9l28.7 -0.2v50.9z'/></svg>"
                data-src="demo/img/Aldus-symbol.jpg" alt="image">

                <h3>SVG image</h3>
                <!--svg output -->
                <div id="previewTraced" class=""></div>

                <!-- hidden canvas -->
                <canvas class="sr-only" id="canvasPot"></canvas>
            </div>

        </main>




    </div>




    <!-- markers to show commands -->
    <svg id="svgMarkers" class="sr-only" style="width:0; height:0; position:absolute; z-index:-1;float:left;">
        <defs>
            <marker id="markerStart" overflow="visible" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="strokeWidth"
                markerWidth="10" markerHeight="10" orient="auto-start-reverse">
                <circle cx="5" cy="5" r="3" fill="var(--color-focus, #ccc)"></circle>

                <marker id="markerRound" overflow="visible" viewBox="0 0 10 10" refX="5" refY="5"
                    markerUnits="strokeWidth" markerWidth="10" markerHeight="10" orient="auto-start-reverse">
                    <circle cx="5" cy="5" r="2" fill="var(--color-focus, #ccc)"></circle>
                </marker>
        </defs>
    </svg>



</body>

</html>